{
  "bsonType": "object",
  "required": ["_id", "title", "content", "author", "status", "createTime", "updateTime"],
  "permission": {
    "read": true,
    "create": true,
    "update": true,
    "delete": true
  },
  "properties": {
    "_id": {
      "bsonType": "string",
      "title": "剧本ID",
      "description": "云数据库自动生成ID"
    },
    "title": {
      "bsonType": "string",
      "title": "剧本标题",
      "minLength": 1,
      "maxLength": 200,
      "description": "剧本标题，1-200字符"
    },
    "content": {
      "bsonType": "string",
      "title": "剧本内容",
      "minLength": 1,
      "description": "剧本正文内容"
    },
    "author": {
      "bsonType": "string",
      "title": "作者",
      "minLength": 1,
      "maxLength": 100,
      "description": "剧本作者，1-100字符"
    },
    "version": {
      "bsonType": "string",
      "title": "版本号",
      "maxLength": 20,
      "description": "剧本版本号"
    },
    "fileId": {
      "bsonType": "string",
      "title": "文件ID",
      "description": "上传文件ID，兼容fileID格式"
    },
    "fileUrl": {
      "bsonType": "string",
      "title": "文件访问URL",
      "format": "uri",
      "description": "文件访问URL"
    },
    "fileSize": {
      "bsonType": "int",
      "title": "文件大小",
      "minimum": 0,
      "description": "文件大小(字节)"
    },
    "mimeType": {
      "bsonType": "string",
      "title": "文件MIME类型",
      "description": "文件的MIME类型"
    },
    "status": {
      "bsonType": "string",
      "title": "剧本状态",
      "enum": ["active", "inactive"],
      "description": "剧本状态：active(激活)、inactive(未激活)"
    },
    "tags": {
      "bsonType": "array",
      "title": "标签列表",
      "maxItems": 2,
      "items": {
        "bsonType": "string",
        "enum": ["推理", "娱乐"],
        "description": "标签枚举：推理或娱乐"
      },
      "description": "剧本标签数组，只能选择推理或娱乐"
    },
    "category": {
      "bsonType": "string",
      "title": "分类",
      "maxLength": 100,
      "description": "剧本分类"
    },
    "description": {
      "bsonType": "string",
      "title": "描述",
      "maxLength": 1000,
      "description": "剧本描述，最大1000字符"
    },
    "createTime": {
      "bsonType": "date",
      "title": "创建时间",
      "description": "剧本创建时间"
    },
    "updateTime": {
      "bsonType": "date",
      "title": "更新时间",
      "description": "剧本最后更新时间"
    },
    "usageCount": {
      "bsonType": "int",
      "title": "使用次数",
      "minimum": 0,
      "default": 0,
      "description": "剧本被使用的次数"
    },
    "likes": {
      "bsonType": "int",
      "title": "点赞数",
      "minimum": 0,
      "default": 0,
      "description": "剧本获得的点赞数"
    },
    "images": {
      "bsonType": "array",
      "title": "封面图片列表",
      "items": {
        "bsonType": "object",
        "properties": {
          "url": {
            "bsonType": "string",
            "format": "uri",
            "description": "图片URL"
          },
          "fileId": {
            "bsonType": "string",
            "description": "图片文件ID"
          }
        }
      },
      "description": "剧本封面图片列表"
    }
  }
}
