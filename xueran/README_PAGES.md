# 血染钟楼微信小程序 - 页面设计说明

## 📱 页面概述

本项目包含三个主要界面，专门为血染钟楼剧本展示而设计：

### 1. 剧本展览界面 (pages/exhibition/exhibition.vue)
**主界面** - 用户进入应用后的默认页面

#### 功能特性
- 🔍 **搜索栏**: 支持剧本名称搜索
- 🎠 **图片轮播**: 每个剧本支持0-3张图片轮播展示
- 📋 **剧本信息**: 显示剧本名字、版本、作者、点赞数
- 🏷️ **标签系统**: 展示剧本的分类标签
- 📊 **统计信息**: 实时显示下载、收藏、点赞数据
- 🔄 **自动轮播**: 图片轮播支持自动播放
- 📱 **底部导航**: 快速切换到排行榜页面

#### UI设计特点
- 卡片式布局，每个剧本独立卡片
- 图片轮播区域固定高度(200px)
- 图片数量指示器显示当前/总数量
- 响应式设计，适配不同屏幕尺寸

### 2. 剧本排行榜界面 (pages/rankings/rankings.vue)
**排行榜页面** - 展示剧本的各种排行数据

#### 功能特性
- 📊 **三大榜单**: 下载榜、收藏榜、点赞榜
- 🏆 **排名显示**: Top3显示金银铜牌样式
- 🔢 **数据格式化**: 大数字自动格式化为万(k)/千(w)
- 🖼️ **缩略图展示**: 每个剧本显示缩略图
- 📈 **实时数据**: 显示最新的统计信息
- 🔄 **榜单切换**: Tab切换不同排行榜
- ↩️ **返回导航**: 支持返回上一页

#### UI设计特点
- Tab切换界面，清晰的榜单区分
- 排名数字特殊的视觉设计(1-3名有特殊样式)
- 左侧排名区域，右侧详细信息布局
- 统计数据使用图标+数值的方式展示

### 3. 剧本详情界面 (pages/detail/detail.vue)
**详情页面** - 展示剧本的详细信息

#### 功能特性
- 🎠 **图片轮播**: 支持多张图片的轮播展示
- 📖 **详细信息**: 剧本标题、版本、作者、描述
- 📊 **统计面板**: 下载、收藏、点赞的详细统计
- 🏷️ **标签展示**: 剧本的所有分类标签
- 📋 **JSON复制**: 一键复制剧本JSON数据
- 💾 **JSON下载**: 下载剧本JSON文件
- ↩️ **返回导航**: 返回到上一页

#### UI设计特点
- 顶部大图轮播区域(250px高度)
- 信息卡片式布局，清晰的信息层次
- 统计数据横向排列，视觉清晰
- 操作按钮采用双按钮布局

## 🎨 设计规范

### 颜色方案
- **主色调**: #007AFF (苹果蓝)
- **强调色**: #FF4757 (活力红)
- **警告色**: #FF9500 (橙色)
- **成功色**: #34C759 (绿色)
- **背景色**: #F8F8F8 (浅灰)
- **卡片色**: #FFFFFF (白色)

### 字体规范
- **标题字体**: 18px-20px, font-weight: 600-700
- **正文字体**: 14px-16px, font-weight: 400
- **小文字体**: 12px, font-weight: 400-500

### 间距规范
- **页面边距**: 16px
- **卡片内边距**: 16px-20px
- **元素间距**: 8px-12px
- **列表项间距**: 12px-16px

### 圆角规范
- **按钮圆角**: 12px
- **卡片圆角**: 12px
- **标签圆角**: 12px-16px
- **指示器圆角**: 12px

## 📱 响应式设计

### 适配策略
- 使用rpx单位进行自适应布局
- Flex布局为主，Grid布局为辅
- 图片使用aspectFill模式保持比例
- 文字根据内容长度自动调整

### 交互设计
- 点击反馈: 透明度0.8或缩放0.98
- 加载状态: 显示loading文本和动画
- 错误处理: Toast提示用户操作结果
- 导航流: 清晰的页面跳转逻辑

## 🧪 测试覆盖

### 测试策略
- **单元测试**: 每个组件的功能测试
- **UI测试**: 界面元素的正确渲染
- **交互测试**: 用户操作的响应测试
- **数据测试**: 数据的正确显示和格式化

### 测试文件结构
```
tests/pages/
├── exhibition/
│   └── exhibition.test.js    # 展览页面测试
├── rankings/
│   └── rankings.test.js      # 排行榜页面测试
└── detail/
    └── detail.test.js        # 详情页面测试
```

## 🚀 性能优化

### 优化措施
- **图片懒加载**: 按需加载图片资源
- **列表虚拟化**: 大列表使用虚拟滚动
- **缓存策略**: 合理使用本地缓存
- **代码分割**: 按页面分割代码包

### 性能指标
- **页面加载**: < 500ms
- **UI响应**: < 100ms
- **内存使用**: 控制在合理范围内
- **包体积**: 优化资源大小

## 🔧 技术实现

### 使用的组件
- **uni-swiper**: 图片轮播组件
- **uni-icons**: 图标组件
- **uni-nav-bar**: 导航栏组件
- **自定义组件**: 基于业务需求的组件

### 数据流
- **Props**: 父子组件数据传递
- **Events**: 子组件向父组件通信
- **Vuex**: 全局状态管理
- **本地存储**: 持久化数据存储

## 📋 开发指南

### 页面跳转
```javascript
// 跳转到详情页
uni.navigateTo({
  url: `/pages/detail/detail?id=${scriptId}`
})

// 返回上一页
uni.navigateBack()
```

### 数据处理
```javascript
// 数字格式化
formatNumber(num) {
  if (num >= 10000) {
    return (num / 10000).toFixed(1) + 'w'
  } else if (num >= 1000) {
    return (num / 1000).toFixed(1) + 'k'
  }
  return num.toString()
}
```

### 错误处理
```javascript
// 统一的错误处理
try {
  // 业务逻辑
} catch (error) {
  console.error('Error:', error)
  uni.showToast({
    title: '操作失败',
    icon: 'error'
  })
}
```

---

*这些页面设计遵循了现代移动应用的设计原则，确保了良好的用户体验和代码质量。*
