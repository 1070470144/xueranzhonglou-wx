# 手动测试流程：US3 剧本编辑

**用户故事**: US3 - 统一剧本更新管理
**测试类型**: 手动功能测试
**测试目标**: 验证剧本编辑功能的完整性，包括数据加载、修改和保存

## 测试环境准备

### 前置条件
- [ ] 剧本管理页面已加载 (`/pages/admin/scripts/list`)
- [ ] 至少存在一个剧本记录
- [ ] 用户已登录并具有编辑权限

### 测试数据
- 现有剧本: `test-script-001` (ID已知)
- 更新内容:
  - 新标题: "更新的剧本标题"
  - 新作者: "更新作者"
  - 新标签: 从"推理"改为"娱乐"
  - 新描述: "这是更新后的剧本描述"

## 测试步骤

### 步骤 1: 验证编辑入口
1. 在剧本列表中找到目标剧本
2. 点击"编辑"按钮
3. **预期结果**: 成功导航到编辑页面
4. 编辑页面显示正确的剧本ID和标题

### 步骤 2: 验证数据加载
1. 编辑页面加载完成后
2. **预期结果**: 所有字段都正确显示现有数据
   - 标题字段显示原始标题
   - 作者字段显示原始作者
   - 标签选择器显示当前标签
   - 描述字段显示原始描述
   - 其他字段显示相应数据

### 步骤 3: 验证数据修改
1. 修改标题为"新标题"
2. 修改作者为"新作者"
3. 更改标签选择
4. 更新描述内容
5. **预期结果**: 所有修改都能正确输入，不出现错误

### 步骤 4: 验证表单验证
1. 清空必填字段（标题和作者）
2. 点击保存按钮
3. **预期结果**: 显示验证错误信息"请输入剧本标题"和"请输入作者姓名"
4. 重新填写正确数据

### 步骤 5: 验证保存功能
1. 填写所有必要信息
2. 点击"保存"按钮
3. **预期结果**: 显示"保存中..."加载提示
4. 保存完成后显示"保存成功"提示
5. 自动返回列表页面

### 步骤 6: 验证数据持久化
1. 返回列表页面
2. 找到刚才编辑的剧本
3. **预期结果**: 显示更新后的标题和作者
4. 点击编辑按钮再次进入
5. **预期结果**: 显示更新后的所有数据

## 边界情况测试

### 步骤 7: 验证最大长度限制
1. 输入超长标题（超过200字符）
2. 输入超长作者名（超过100字符）
3. 输入超长描述（超过1000字符）
4. **预期结果**: 正确限制输入长度或显示错误提示

### 步骤 8: 验证特殊字符处理
1. 输入包含特殊字符的标题和描述
2. **预期结果**: 特殊字符被正确保存和显示

## 验收标准

- [ ] 编辑入口正常工作
- [ ] 数据正确加载到表单
- [ ] 数据修改功能正常
- [ ] 表单验证正确执行
- [ ] 保存功能正常工作
- [ ] 数据正确持久化
- [ ] 长度限制正确实施
- [ ] 特殊字符正确处理

## 缺陷记录

如果发现任何不符合预期的行为，请记录：
- 编辑的剧本ID
- 具体操作步骤
- 预期结果 vs 实际结果
- 浏览器/设备信息
