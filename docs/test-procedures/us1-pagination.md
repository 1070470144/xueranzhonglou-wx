# 用户故事 1 - 分页功能手动测试流程

## 测试目标
验证剧本列表的分页功能是否正确工作

## 前置条件
- 已完成列表显示功能测试
- 数据库中至少有25个测试剧本记录（超过默认每页20条的限制）
- 用户已登录管理后台

## 测试步骤

### 步骤 1: 验证分页控件显示
1. 访问剧本管理页面
2. 确认页面底部显示分页控件
3. 检查分页控件包含：
   - 上一页按钮
   - 页码显示（例如：第1页 / 共2页）
   - 下一页按钮
4. **预期结果**: 分页控件完整显示，状态正确

### 步骤 2: 测试下一页功能
1. 确认当前页是第1页
2. 点击"下一页"按钮
3. **预期结果**: 页面跳转到第2页，URL参数更新，列表显示不同的数据

### 步骤 3: 测试上一页功能
1. 确认当前页是第2页
2. 点击"上一页"按钮
3. **预期结果**: 页面返回到第1页，列表显示原始数据

### 步骤 4: 测试边界情况
1. 在第1页时点击"上一页"按钮
2. **预期结果**: 按钮被禁用或无响应，不发生页面跳转
3. 在最后一页时点击"下一页"按钮
4. **预期结果**: 按钮被禁用或无响应，不发生页面跳转

### 步骤 5: 测试页码显示准确性
1. 记录数据库中的总剧本数量
2. 计算预期页数（总数量 / 每页大小，向上取整）
3. 检查分页控件的页码显示是否正确
4. **预期结果**: 页码显示与计算结果一致

### 步骤 6: 测试数据一致性
1. 在第1页记录几个剧本的ID或标题
2. 切换到第2页
3. 返回第1页
4. **预期结果**: 第1页的数据与之前记录的完全一致，无数据错乱

## 验收标准

### 通过条件
- [ ] 分页控件正确显示
- [ ] 下一页/上一页功能正常
- [ ] 边界情况处理正确（禁用按钮）
- [ ] 页码计算准确
- [ ] 数据在页面切换间保持一致

### 失败条件
- [ ] 分页控件不显示或显示错误
- [ ] 页面切换失败或显示错误数据
- [ ] 边界情况处理不当（可点击禁用按钮）
- [ ] 页码显示与实际不符
- [ ] 页面切换后数据错乱

## 性能测试

### 大数据量分页
1. 创建100+条测试数据
2. 测试分页在大数据量下的性能
3. **预期结果**: 页面切换流畅，无明显延迟

### 并发访问测试
1. 同时打开多个浏览器标签页访问同一页面
2. 在不同标签页中进行分页操作
3. **预期结果**: 各标签页的分页状态独立，不互相影响

## 错误处理验证

### 网络中断测试
1. 在分页操作过程中断开网络
2. 恢复网络后重试操作
3. **预期结果**: 操作正常恢复，无数据丢失

### API错误测试
1. 模拟分页API返回错误
2. 执行分页操作
3. **预期结果**: 显示错误提示，用户可重试

## 测试记录

| 测试日期 | 测试人员 | 结果 | 备注 |
|----------|----------|------|------|
| 2026-01-14 | 系统 | 待测试 | 初始创建 |

## 问题记录

### 已知问题
- 无

### 修复记录
- 无

## 扩展测试建议

### 每页大小调整
- 测试不同每页大小设置（10, 20, 50）的分页行为
- 验证页面大小改变时的状态保持

### 搜索结合分页
- 在有搜索结果的状态下测试分页
- 确认搜索条件在分页过程中保持有效
