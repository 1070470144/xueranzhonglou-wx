# 手动测试流程：US2 上传进度和完成

**用户故事**: US2 - 统一剧本上传管理
**测试类型**: 手动功能测试
**测试目标**: 验证文件上传进度显示和完成状态处理

## 测试环境准备

### 前置条件
- [ ] 剧本管理页面已加载 (`/pages/admin/scripts/list`)
- [ ] 用户已登录并具有上传权限
- [ ] 有效的测试文件已准备好

### 测试数据
- 小文件: `small-script.txt` (100KB)
- 中等文件: `medium-script.txt` (2MB)
- 大文件: `large-script.txt` (8MB, 但不超过10MB限制)

## 测试步骤

### 步骤 1: 验证上传进度显示
1. 选择小文件 (`small-script.txt`)
2. 点击"上传剧本"按钮
3. **预期结果**: 显示上传进度条，从0%开始
4. 进度条应该平滑增加到100%
5. **预期结果**: 进度百分比正确显示

### 步骤 2: 验证上传完成状态
1. 等待上传完成
2. **预期结果**: 进度条显示100%
3. 显示"上传成功"消息
4. 文件信息从界面中清除
5. **预期结果**: 剧本列表自动刷新，显示新上传的剧本

### 步骤 3: 验证不同文件大小的进度
1. 重复步骤1-2，使用中等文件 (`medium-script.txt`)
2. **预期结果**: 进度显示正常，上传时间合理
3. 重复步骤1-2，使用大文件 (`large-script.txt`)
4. **预期结果**: 进度显示正常，上传时间较长但可接受

### 步骤 4: 验证取消上传功能
1. 开始上传大文件
2. 在上传过程中点击"取消"按钮（如果有）
3. **预期结果**: 上传被中断
4. 显示"上传已取消"消息
5. 进度条停止更新

### 步骤 5: 验证并发上传限制
1. 同时选择多个文件尝试上传
2. **预期结果**: 只允许单文件上传，或显示适当的错误消息

## 进度显示验证

### 步骤 6: 进度条样式验证
1. 检查进度条的外观
2. **预期结果**: 进度条颜色合适（绿色表示成功）
3. 进度文本清晰可见
4. 进度条动画流畅

### 步骤 7: 状态文本验证
1. 观察上传过程中的状态文本
2. **预期结果**: 显示有意义的进度信息
   - "准备上传..."
   - "正在上传... 45%"
   - "上传完成"

## 验收标准

- [ ] 上传进度正确显示
- [ ] 进度条从0%到100%平滑变化
- [ ] 上传完成时显示成功消息
- [ ] 列表自动刷新显示新剧本
- [ ] 不同文件大小的进度表现一致
- [ ] 进度条样式美观易读
- [ ] 状态文本清晰有意义

## 性能基准

- 小文件 (< 1MB): 上传时间 < 5秒
- 中等文件 (1-5MB): 上传时间 < 30秒
- 大文件 (5-10MB): 上传时间 < 60秒

## 缺陷记录

如果发现任何不符合预期的行为，请记录：
- 文件大小
- 网络条件
- 浏览器版本
- 具体步骤
- 实际结果 vs 预期结果
- 上传时间
