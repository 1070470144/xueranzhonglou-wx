# 手动测试流程：US2 文件选择和验证

**用户故事**: US2 - 统一剧本上传管理
**测试类型**: 手动功能测试
**测试目标**: 验证文件选择、格式验证和大小限制功能

## 测试环境准备

### 前置条件
- [ ] 剧本管理页面已加载 (`/pages/admin/scripts/list`)
- [ ] 用户已登录并具有上传权限
- [ ] 浏览器支持文件选择API

### 测试数据
- 有效文件: `test-script.txt` (大小 < 10MB, UTF-8编码)
- 无效文件: `large-file.zip` (大小 > 10MB)
- 格式错误文件: `binary-file.exe` (不支持的格式)

## 测试步骤

### 步骤 1: 验证文件选择功能
1. 点击"选择文件"按钮
2. **预期结果**: 文件选择对话框正常打开
3. 选择有效的文本文件 (`test-script.txt`)
4. **预期结果**: 文件名显示在界面上，文件大小正确显示

### 步骤 2: 验证文件大小限制
1. 点击"选择文件"按钮
2. 选择超过10MB的大文件 (`large-file.zip`)
3. **预期结果**: 显示错误提示"文件大小超过限制(10MB)"
4. 验证文件没有被选中

### 步骤 3: 验证文件格式限制
1. 点击"选择文件"按钮
2. 选择不支持格式的文件 (`binary-file.exe`)
3. **预期结果**: 显示错误提示"不支持的文件格式"
4. 验证文件没有被选中

### 步骤 4: 验证文件名显示
1. 选择有效的文件后
2. **预期结果**: 文件名正确显示
3. 文件大小以合适的单位显示(KB/MB)
4. 显示文件类型的图标或标识

### 步骤 5: 验证文件更换
1. 选择第一个文件后
2. 再次点击"选择文件"选择不同的有效文件
3. **预期结果**: 新文件正确替换旧文件
4. 旧文件信息被清除

## 错误处理验证

### 步骤 6: 网络异常处理
1. 断开网络连接
2. 尝试选择文件
3. **预期结果**: 显示网络错误提示或优雅降级

### 步骤 7: 浏览器兼容性
1. 在不同浏览器中重复步骤1-5
2. **预期结果**: 行为一致，错误提示清晰

## 验收标准

- [ ] 文件选择对话框正常打开
- [ ] 支持的文件格式正确验证
- [ ] 文件大小限制正确实施
- [ ] 错误消息清晰易懂
- [ ] 文件信息正确显示
- [ ] 文件可以被更换
- [ ] 网络异常有适当处理

## 缺陷记录

如果发现任何不符合预期的行为，请记录：
- 浏览器版本
- 操作系统
- 具体步骤
- 实际结果 vs 预期结果
- 错误消息（如果有）
