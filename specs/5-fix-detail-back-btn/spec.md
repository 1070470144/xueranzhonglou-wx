# 优化：剧本详情页面左上角返回按钮可见性增强

## 概述

当前剧本详情页面左上角的返回按钮在某些手机/配色下不够明显，用户可能难以发现或误触。此规范描述让返回按钮更易识别、触达和交互，同时保持可配置与性能友好。

## 关键概念
- Actor: 移动端用户（首次使用或视觉弱对比设备）
- Action: 查看详情页并返回上一页
- Constraint: 兼容微信小程序与 HBuilderX，避免影响其他页面布局

## 用户场景

1. 用户在详情页阅读剧本，想返回上一页但找不到明显的返回按钮；优化后用户能快速识别并点击返回。
2. 在深色背景或图片头部场景，按钮需有足够对比且不遮挡主要内容。
3. 用户在低端设备上使用，按钮交互需可靠且无性能开销过大的动画。

## 功能需求（Functional Requirements）

FR1 — 可见性增强
- 返回按钮需要满足至少三项中的优化：更大尺寸（推荐 44x44 dp 最小触控区）、更高对比度（背景/图标颜色）、或添加可视化边框/底色以区别背景。

FR2 — 扩大点击区域
- 保证触控区域至少为 44x44px（或对应平台推荐值），即使图标本身较小也应扩大 hit area。

FR3 — 可配置样式
- 提供全局或页面级配置选项以控制：图标风格（实心/线性）、背景（圆/方）、颜色方案、以及是否启用微交互动效（默认开启）。

FR4 — 无布局破坏
- 改动不应影响标题或其他右侧内容对齐；在窄屏时，返回按钮应占位且不压缩标题文本（可换行或省略）。

FR5 — 可访问性
- 添加 aria-label 或可访问替代文本，支持屏幕阅读器（在支持的平台）。

## 验收标准（Acceptance Criteria）

AC1 — 对比测试
- 在浅色与深色背景、图片头部场景下，返回按钮对比度满足 WCAG 基本可见性（视觉检查）。

AC2 — 触达测试
- 使用设备辅助工具验证触控区域至少为 44x44px，可通过自动化断言按钮的 bounding box。

AC3 — 功能测试
- 点击返回按钮应触发 `uni.navigateBack()` 并返回上一页，无需额外确认。

AC4 — 可配置验证
- 在设置中禁用动画或切换样式后，界面呈现符合配置要求。

## 关键实体
- BackButton: { size, icon, bgColor, iconColor, accessibleLabel, animationEnabled }
- PageHeader: 包含返回按钮与标题

## 假设与约束
- 假设详情页使用顶部自定义导航栏（navigationStyle: custom）
- 约束：不修改后端；尽量使用 CSS transform/opacity 实现动画以保证性能

## 验证测试计划
- 单元测试：渲染断言（存在、样式类）、点击事件触发断言
- 视觉回归：在浅色/深色头图场景截屏比对
- 手工验收：产品在真机上验证按钮可见性与交互

## 可交付项
1. 规范文件（本文件）
2. UI 改动 PR（分支：`5-fix-detail-back-btn`）
3. 单元测试与视觉基线截图
4. 验收记录

---  
**状态**: Draft — ready for planning

