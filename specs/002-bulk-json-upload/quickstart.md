# Quickstart: 优化批量 JSON 上传（管理员操作）

前提：
- 管理端为浏览器（H5），或使用支持文件夹选择的 App 客户端。
- 管理员已登录并有上传权限。

步骤：
1. 在剧本列表页点击"批量上传"。
2. 在上传面板中选择"选择文件夹"（支持递归扫描子目录）或选择多个JSON文件。
3. 系统自动解析文件，支持分块处理以避免界面阻塞，实时显示处理进度。
4. 系统展示元数据预览表格，包含文件名、标题、作者、标签、状态等信息。
5. 验证摘要显示有效文件和需要编辑的文件数量，红色标记表示需要修正。
6. 支持单个文件编辑（点击编辑按钮）或批量选择编辑多个文件。
7. 可以批量设置作者、状态，或批量添加/移除标签。
8. 确认无误后点击"开始上传"，系统分批并发处理并显示实时进度。
9. 上传完成后查看详细统计，支持下载失败文件列表进行问题排查。

注意事项：
- 单次最多支持500个文件，超过此数量会提示分批上传。
- 系统自动提取多种JSON格式的元数据，包括Clocktower格式和其他常见结构。
- 新剧本默认添加"娱乐"标签并设置为激活状态，可在预览时修改。
- 支持冲突检测，避免重复标题的剧本被覆盖。
- 完整的错误分类和统计，便于问题诊断和解决。

# quickstart.md — 批量 JSON 上传 使用说明

快速开始（管理员）

1. 打开管理后台，进入"剧本管理 / 列表"页面。
2. 点击页面顶部的"批量上传"按钮，打开上传面板。
3. 选择本地文件夹（支持递归扫描子目录）或选择多个JSON文件（最多500个）。
4. 系统自动解析文件，分块处理避免界面阻塞，实时显示处理进度。
5. 查看元数据预览表格，包含文件名、标题、作者、标签、状态等完整信息。
6. 验证摘要显示有效文件数量，红色标记表示需要编辑的文件。
7. 支持单个文件编辑或批量选择进行批量编辑操作。
8. 可以批量设置作者、状态，或批量管理标签。
9. 确认后点击"开始上传"，系统分批并发处理并显示实时进度。
10. 上传完成后查看统计，支持下载失败详情进行问题排查。
11. 在列表页可通过上传时间或sourceJobId筛选新导入的剧本。

提示与注意

- 单次最多支持500个文件，超过此数量会提示分批上传。
- 支持多种JSON格式自动识别，包括Clocktower剧本格式。
- 新剧本默认添加"娱乐"标签并设置为激活状态，可在预览时修改。
- 智能冲突检测，自动跳过重复标题的剧本。
- 完整的元数据提取统计和错误分类，便于追踪导入质量。


