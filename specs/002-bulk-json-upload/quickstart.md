# Quickstart: 批量 JSON 上传（管理员操作）

前提：
- 管理端为浏览器（H5），或使用支持文件夹选择的 App 客户端。
- 管理员已登录并有上传权限。

步骤：
1. 在剧本列表页点击“批量上传”。  
2. 在上传面板中选择“选择文件夹”（优先使用浏览器的目录选择 API）或选择多个 `.json` 文件；若浏览器不支持目录选择，可上传 zip（解压由后端处理）或使用多文件选择。  
3. 系统解析并展示待上传的文件清单与预览（title/author/description）。  
4. 在面板中选择冲突处理策略（默认：跳过）并可对部分文件调整元数据。  
5. 点击“开始上传”触发作业，前端会显示整体进度与当前批次状态。  
6. 上传完成后，页面将显示成功/失败统计，并提供“下载失败详情”以导出失败列表用于后续修复。  

注意事项：
- 对大量文件建议分批上传（例如每批 200 个）以减少失败风险。  
- 后端会为每次批量上传创建 `BulkUploadJob` 记录以便审计与回溯。  
- 如果需要在非浏览器平台使用该功能，请先提出变更申请并遵循 Governance 批准流程。

# quickstart.md — 批量 JSON 上传 使用说明

快速开始（管理员）

1. 打开管理后台，进入“剧本管理 / 列表”页面。  
2. 点击页面顶部的“批量上传”按钮，打开上传面板。  
3. 选择本地文件夹（桌面 H5 / 原生 App 支持文件夹选择）；若平台不支持文件夹选择，选择压缩包（zip）或使用多文件选择。  
4. 系统会递归扫描所选目录并列出所有 `.json` 文件的预览（显示 title、author、description）；如需统一标签或状态，可在面板中设置。  
5. 选择冲突处理策略（跳过 / 覆盖 / 新建并重命名），然后点击“开始上传”。  
6. 前端将分批并发上传文件并显示整体进度与每个文件的状态。上传完成后可下载失败详情（含文件名与错误原因）。  
7. 在列表页可通过 `sourceJobId` 或上传时间筛选新导入的剧本。  

提示与注意

- 大文件或大量文件建议分批导入（默认推荐每次不超过 500 个文件）。  
- 如需在不支持文件夹选择的平台上批量导入，推荐在桌面端打包为 zip 并上传或使用 App 客户端。  
- 若需在导入前对 JSON 字段进行复杂映射，请联系产品评估实现映射界面（该版本默认仅提供预览与局部编辑）。


