# 修复：展览界面移动端适配（右侧被截断）

## 概述

当前展览页面在部分手机屏幕上存在页面内容向右溢出/被截断的问题，导致右侧部分信息（例如点赞数或卡片阴影）不可见，影响用户浏览和交互体验。此规范定义问题范围、可观测的用户场景、可测试的功能需求与验收标准。

## 关键概念
- Actor: 普通移动端用户（使用微信小程序或HBuilderX预览）
- Action: 浏览展览页，查看剧本卡片与轮播图片
- Data: 剧本卡片（图片、标题、作者、版本、点赞数、标签）
- Constraint: 适配不同屏幕宽度（常见320–412px等），无横向滚动或内容裁剪

## 用户场景（User Scenarios）

1. 用户打开应用，在展览页垂直滚动浏览卡片；所有卡片在屏幕宽度内完整可见，无水平溢出。
2. 用户点击卡片的图片轮播区域；轮播在卡片宽度内完整展示，切换指示器与图片不被遮挡。
3. 用户在较小屏幕（例如320px宽）上查看卡片，标题和元信息（版本/作者/点赞）应自动换行或合理裁切，保证点赞数可见或以交互方式查看。

## 功能需求（Functional Requirements）

FR1 — 无横向溢出：展览页面在所有目标设备宽度下不应出现水平滚动条或可见被裁剪的右侧内容。
FR2 — 卡片内元素可见性：卡片右侧的统计（点赞数）或其他关键元素在常见屏幕宽度下必须可见，或提供明确视觉替代（例如显隐优先级、折叠/省略+提示）。
FR3 — 轮播可视区域：轮播组件应被限制在卡片可视宽度内，图片不应溢出卡片边界，图片数量指示器位于图片内或牢固定位在可见区域。
FR4 — 响应式文本处理：长标题、作者名、版本信息应当在空间不足时优先换行或使用省略号（并在必要时提供完整文本的查看方式）。
FR5 — 无遮挡交互：底部导航与其他悬浮元素不应遮挡卡片主要内容（在小屏幕上留出安全区）。

## 验收标准（Acceptance Criteria / Tests）

AC1 — 设备矩阵验证：在以下屏幕宽度下（至少：320px, 360px, 375px, 390px, 412px）打开展览页，不出现水平滚动条，且右侧内容不被裁剪。
AC2 — 视觉断言：对第一张卡片截图进行像素或视觉比较，右侧关键元素（点赞数）与卡片阴影完整可见。
AC3 — 自动化单元/组件测试：对卡片组件进行渲染测试，验证样式类不会引入 overflow 或固定宽度超出父容器的值。
AC4 — 手动探测：人工在微信开发者工具与真实设备上验证轮播、标题换行及底部导航遮挡情况。
AC5 — 性能影响：修改后单页面首次渲染时间不增加超过 100ms（相较基线）。

## 关键实体（Key Entities）

- ScriptCard: { id, title, version, author, likes, images[], tags[] }
- Viewport: { width, height, devicePixelRatio }
- Carousel: 图片集合与当前索引

## 假设与约束（Assumptions）

- 假设页面使用标准Card布局和Flex布局，且可修改样式文件。
- 假设可以对组件样式进行响应式调整或添加安全区（padding/margin）以避免遮挡。
- 约束：不变更后端数据结构，仅对前端布局与样式进行调整与测试。

## 风险与缓解

- 风险：在极端小屏幕或异常缩放设置下，信息仍可能需要裁切。  
  缓解：为极端情况提供“查看详情”入口，确保关键数据可查看。

## 可交付项

1. 规格文档（本文件）
2. 视觉回归测试用例（基线截图 + 修复后截图）
3. 组件渲染/样式单元测试
4. 修复分支：`2-fix-exhibition-layout`

---  
**状态**: Draft — ready for planning

